<html>
<head>
<script src="https://fb.me/react-0.12.0.js"></script>
<script src="https://fb.me/JSXTransformer-0.12.0.js"></script>
<script type="text/jsx">
/** @jsx React.DOM */
var users = {{ users}};
var storiesMap = {{ storiesByUser}};


var Stories = React.createClass({
  render: function() {
    var elems = [];
    var allUsers = this.props.users;
    for (var i = 0; i < allUsers.length; i++) {
      elems.push(<p>{allUsers[i]}</p>);
    }
    return ({elems});
  }
});

React.renderComponent(
  <Stories users={users} stories={storiesMap} />,
  document.getElementById("storiesDiv"));
</script>
</head>
<body>
<h2>News by users following</h2>
<div id="storiesDiv"></div>
after div
{% if storiesByUser %}
  stories by user<br/>
  {% for user in users %}
    <h4>{{user}}</h4>
  {% endfor %}
{% endif %}
</body>
</html>
